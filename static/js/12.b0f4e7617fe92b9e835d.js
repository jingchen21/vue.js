webpackJsonp([12],{L3d9:function(e,a){},QTV6:function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t={render:function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",[r("bread-crumb"),e._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"姓名"}},[r("el-input",{model:{value:e.form.Name,callback:function(a){e.$set(e.form,"Name",a)},expression:"form.Name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"学号"}},[r("el-input",{model:{value:e.form.Number,callback:function(a){e.$set(e.form,"Number",a)},expression:"form.Number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码"}},[r("el-input",{attrs:{type:"password"},model:{value:e.form.Password,callback:function(a){e.$set(e.form,"Password",a)},expression:"form.Password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别"}},[r("el-radio-group",{model:{value:e.form.Gender,callback:function(a){e.$set(e.form,"Gender",a)},expression:"form.Gender"}},[r("el-radio",{attrs:{label:!0}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{label:!1}},[e._v("女")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱"}},[r("el-input",{attrs:{type:"email"},model:{value:e.form.Email,callback:function(a){e.$set(e.form,"Email",a)},expression:"form.Email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"头像"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.form.ImgUrl?r("img",{staticClass:"avatar",attrs:{src:e.HostUrl+e.form.ImgUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),r("el-form-item",{attrs:{label:"角色"}},[r("el-select",{attrs:{placeholder:"请选择用户角色"},model:{value:e.form.userRoleId,callback:function(a){e.$set(e.form,"userRoleId",a)},expression:"form.userRoleId"}},e._l(e.roleList,function(e){return r("el-option",{key:e.Id,attrs:{label:e.RoleName,value:e.Id}})}))],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submitSave}},[e._v("保存")])],1)],1)],1)])],1)},staticRenderFns:[]};var o=r("VU/8")({name:"baseform",data:function(){return{form:{Id:"",Name:"",Number:"",Password:"",Email:"",ImgUrl:"",Gender:"",CreateDate:"",userRoleId:""},roleList:[],uploadUrl:this.HostUrl+"user/imgUpload/"}},methods:{formateDatas:function(e){for(var a in this.form.userRoleId=e.userRoleId,e.user)this.form.hasOwnProperty(a)&&(this.form[a]=e.user[a])},submitSave:function(){var e=this;this.MyTools.$ajax.post.call(this,"/user/Edit",this.form,function(a){0==a.data.code?(e.$message.success(a.data.msg),e.$router.push("/userModule")):e.$message.error(a.data.msg)})},handleAvatarSuccess:function(e){0==e.code&&(this.form.ImgUrl=e.path)},beforeAvatarUpload:function(e){var a=e.size/1024/1024<1;return a||this.$message.error("上传头像图片大小不能超过 1MB!"),a}},created:function(){var e=this;this.MyTools.$ajax.get.call(this,"/user/Edit?id="+this.$route.params.id,function(a){0==a.data.code&&(e.roleList=a.data.datas.roleList,e.formateDatas(a.data.datas.userInfor))})}},t,!1,function(e){r("L3d9"),r("oId/")},"data-v-0a16d678",null);a.default=o.exports},"oId/":function(e,a){}});