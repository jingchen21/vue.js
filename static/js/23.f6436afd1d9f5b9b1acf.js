webpackJsonp([23],{i6D8:function(e,t){},v0Ki:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("bread-crumb"),e._v(" "),l("div",{staticClass:"container"},[l("div",{staticClass:"form-box"},[l("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",align:"left"}},[l("el-form-item",{attrs:{label:"角色名称"}},[l("el-input",{model:{value:e.form.RoleName,callback:function(t){e.$set(e.form,"RoleName",t)},expression:"form.RoleName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"角色优先权"}},[l("el-input",{model:{value:e.form.Sort,callback:function(t){e.$set(e.form,"Sort",t)},expression:"form.Sort"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"角色模块"}},[[l("el-checkbox",{attrs:{label:"selectAll",name:"selectAll"},model:{value:e.selectAll,callback:function(t){e.selectAll=t},expression:"selectAll"}},[e._v("全选")]),e._v(" "),l("br"),e._v(" "),l("el-checkbox-group",{model:{value:e.form.moduleIds,callback:function(t){e.$set(e.form,"moduleIds",t)},expression:"form.moduleIds"}},e._l(e.modulesList,function(t){return l("el-checkbox",{attrs:{label:t.Id,name:""+t.Id}},[e._v(e._s(t.ModuleName))])}))]],2),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.submitAdd}},[e._v("创建")])],1)],1)],1)])],1)},staticRenderFns:[]};var s=l("VU/8")({data:function(){return{form:{Id:"",RoleName:"",Sort:"",moduleIds:[]},modulesList:[]}},computed:{selectAll:{get:function(){return this.form.moduleIds.length===this.modulesList.length},set:function(e){this.form.moduleIds=e?this.modulesList.map(function(e){return e.Id}):[]}}},methods:{getModules:function(){var e=this;this.MyTools.$ajax.get.call(this,"/Module/GetModules",function(t){0==t.data.code?e.modulesList=t.data.datas:e.$message.error(t.data.msg)})},submitAdd:function(){var e=this;this.MyTools.$ajax.post.call(this,"/Role/Create",this.form,function(t){0==t.data.code?(e.$message.success(t.data.msg),e.$router.push("/roleModule")):e.$message.error(t.data.msg)})}},created:function(){this.getModules()}},o,!1,function(e){l("i6D8")},null,null);t.default=s.exports}});